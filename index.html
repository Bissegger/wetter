<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>NASA Globe Test</title>
<style>
html,body{margin:0;height:100%;background:black;overflow:hidden}
</style>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
</head>
<body>

<script>
const scene = new THREE.Scene();

const camera = new THREE.PerspectiveCamera(60, innerWidth/innerHeight, 0.1, 100);
camera.position.z = 3;

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth, innerHeight);
renderer.setClearColor(0x000000);
document.body.appendChild(renderer.domElement);

/* LIGHT */
scene.add(new THREE.AmbientLight(0xffffff, 1));
const sun = new THREE.DirectionalLight(0xffffff, 1);
sun.position.set(5,5,5);
scene.add(sun);

/* MATERIAL mit FALLBACK */
const material = new THREE.MeshPhongMaterial({
  color: 0x2266ff,   // Fallback → MUSS sichtbar sein
  wireframe: false
});

/* GLOBUS */
const globe = new THREE.Mesh(
  new THREE.SphereGeometry(1, 64, 64),
  material
);
scene.add(globe);

/* TEXTURE */
const loader = new THREE.TextureLoader();
loader.crossOrigin = "anonymous";

loader.load(
  "https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg",
  tex => {
    console.log("✅ Textur geladen");
    material.map = tex;
    material.needsUpdate = true;
  },
  undefined,
  err => {
    console.error("❌ Textur Fehler", err);
  }
);

function animate(){
  requestAnimationFrame(animate);
  globe.rotation.y += 0.005;
  renderer.render(scene, camera);
}
animate();

onresize=()=>{
  camera.aspect = innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
};
</script>

</body>
</html>
