<script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
<script>
function initGlobe(id){
  const box = document.getElementById(id);
  const w = box.clientWidth;
  const h = box.clientHeight;

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(45, w/h, 0.1, 100);
  camera.position.z = 2.6;

  const renderer = new THREE.WebGLRenderer({alpha:true, antialias:true});
  renderer.setSize(w, h);
  renderer.setPixelRatio(window.devicePixelRatio);
  renderer.outputColorSpace = THREE.SRGBColorSpace;
  box.appendChild(renderer.domElement);

  scene.add(new THREE.AmbientLight(0xffffff, 0.8));
  const sun = new THREE.DirectionalLight(0xffffff, 1.2);
  sun.position.set(5,3,5);
  scene.add(sun);

  const loader = new THREE.TextureLoader();
  loader.setCrossOrigin("anonymous");

  loader.load(
    "https://raw.githubusercontent.com/ajdruff/earth-textures/main/2k/earth_daymap.jpg",
    tex => {
      tex.colorSpace = THREE.SRGBColorSpace;

      const earth = new THREE.Mesh(
        new THREE.SphereGeometry(1, 64, 64),
        new THREE.MeshStandardMaterial({ map: tex })
      );
      scene.add(earth);

      function animate(){
        requestAnimationFrame(animate);
        earth.rotation.y += 0.0007;
        renderer.render(scene, camera);
      }
      animate();
    }
  );
}

window.addEventListener("load", ()=>{
  initGlobe("globe-left");
  initGlobe("globe-right");
});
</script>
</body>
</html>
